import org.gradle.plugins.ide.idea.model.IdeaLanguageLevel

import java.nio.file.Files
import java.nio.file.Paths

plugins {
	id "java-library"
	id "idea"
}

apply plugin: "com.github.johnrengelman.shadow"

// Java 8 Only
sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8

jar {
}

shadowJar {
	dependsOn jar
}

dependencies {
	// Depend directly on tools.jar so it is brought in, or the module
	if (rootProject.hasProperty("squirreljmeFakeJavaDocSdk") &&
		rootProject.squirreljmeFakeJavaDocSdk) {
		implementation project(":tools:fake-javadoc-sdk")
	} else {
		logger.lifecycle("Tools 1 ${rootProject.squirreljmeToolsJar.getFiles()}")
		logger.lifecycle("Tools 2 ${rootProject.ext.squirreljmeToolsJar.getFiles()}")
		implementation files(rootProject.ext.squirreljmeToolsJar)
	}
	
	implementation project(":modules:io-file")
	implementation project(":modules:json")
	implementation project(":modules:markdown-writer")
	implementation project(":modules:tool-classfile")
}

